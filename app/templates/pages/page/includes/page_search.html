{% extends "core/inc/search_card.html" %}
{% load i18n mezzanine_tags organization_tags %}

{% block title %}
    {{ result.title }}
{% endblock %}

{% block icon %}files-o{% endblock %}

{% block tags %}
    {% with page.get_ascendants|last as top_level_parent %}
        {% if top_level_parent.get_content_model.title %}
            <div class="event-line-box__tags">
                <div class="tag tag--small dashed">
                    {{ top_level_parent.get_content_model.title }}
                </div>
            </div>
        {% elif page.departmentpage %}
            <div class="event-line-box__tags">
                <div class="tag tag--small dashed">
                    {{ page.departmentpage.title }}
                </div>
            </div>
        {% elif page|classname == "Project"  %}
            <div class="event-line-box__tags">
                <div class="tag tag--small dashed">
                    {% trans 'Project' %}
                </div>
            </div>
        {% else %}
            <div class="event-line-box__tags">
                <div class="tag tag--small dashed dashed--gray">
                    {% trans 'Page' %}
                </div>
            </div>
        {% endif %}
    {% endwith %}
{% endblock %}

{% block url %}
    {{ page.get_absolute_url }}
{% endblock %}

{% block content %}
    {% if result.description != result|stringformat:"s" %}
        {{ result.description|truncatewords_html:200|safe }}
    {% endif %}
{% endblock %}
